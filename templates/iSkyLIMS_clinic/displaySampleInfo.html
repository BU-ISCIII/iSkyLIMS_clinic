{% extends 'iSkyLIMS_clinic/base.html' %}
{% load static %}
{% block content %}

{% if display_sample_info %}
    <div class="row row-space-4 margin-b-4">
        <div class="col-sm-7 col-sm-offset-1" >
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Information for Sample {{display_sample_info.s_name}}</h3></div>
                <div class="panel-body">

                </div>  <!--  end of panel body  -->
            </div> <!--// end panel -->
        </div> <!--// end col-sm-7  -->
    </div> <!--// end row -->

    <div class="row row-space-4 margin-b-4">
        <div class="col-sm-10 col-sm-offset-1" >
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Main Information for Sample {{display_sample_info.s_name}}</h3></div>
                <div class="panel-body">
                    <table class="table">
                        <thead>
                           <tr>
                               {% for value in display_sample_info.sample_core_heading %}
                                    <th>{{value}} </th>
                               {% endfor %}
                           </tr>
                        </thead>
                        <tbody>
                            <tr>
                                {% for value in display_sample_info.sample_core_info %}
                                   <td>{{ value }} </td>
                                {%endfor%}
                              </tr>
                        </tbody>
                    </table>
                </div>  <!--  end of panel body  -->
            </div> <!--// end panel -->
        </div> <!--// end col-sm-7  -->
    </div> <!--// end row -->

    <div class="row row-space-4 margin-b-1">
        <div class="col-sm-12 ">
            <div class="tab">
                <button class="tablinks" onclick="summaryBin(event, 'patient')">Patient Information </button>
                <button class="tablinks" onclick="summaryBin(event, 'analysis')">Data from Analysis</button>
                {% if display_sample_info.run_data.heading %}
                    <button class="tablinks" onclick="summaryBin(event, 'runData')">Run Data</button>
                {% endif %}
                <button class="tablinks" onclick="summaryBin(event, 'results')">Results</button>
            </div>

            <div id="patient" class="tabcontent">
                <h3>Patient Information</h3>
                <div class="col-sm-5 " >
                    <div class="panel panel-default">
                        <div class="panel-heading"><h3>Patient Information for Sample {{display_sample_info.s_name}}</h3></div>
                        <div class="panel-body">
                            <br>
                            <table class="table table-hover">
                                <tbody>
                                    <tr>
                                        <th colspan="2" style="text-align:center">Patient main data</th>
                                    </tr>
                                  {% for values in display_sample_info.patient_basic_info %}
                                     <tr>
                                        {% for value in values %}
                                           <td>{{ value }} </td>
                                        {%endfor%}
                                      </tr>
                                  {%endfor%}
                                  <tr>
                                      <th colspan="2">Patient addtional data</th>
                                  </tr>
                                  {% for values in display_sample_info.patient_data %}
                                     <tr>
                                        {% for value in values %}
                                           <td>{{ value }} </td>
                                        {%endfor%}
                                      </tr>
                                  {%endfor%}
                                </tbody>
                            </table>
                        </div>  <!--  end of panel body  -->
                    </div> <!--// end panel -->
                </div> <!--// end col-sm-7  -->

                <div class="col-sm-6 col-sm-offset-1" >
                    <div class="panel panel-default">
                        <div class="panel-heading"><h3>Requested Information for Sample {{display_sample_info.s_name}}</h3></div>
                        <div class="panel-body">
                            <table class="table table-hover">
                                <tbody>
                                  {% for values in display_sample_info.requested_by %}
                                     <tr>
                                        {% for value in values %}
                                           <td>{{ value }} </td>
                                        {%endfor%}
                                      </tr>
                                  {%endfor%}
                                </tbody>
                            </table>
                        </div>  <!--  end of panel body  -->
                    </div> <!--// end panel -->
                </div> <!--// end col-sm-7  -->
            </div> <!-- // end of tab patient -->

            <div id="analysis" class="tabcontent">
                <h3>Information collection during DNA/RNA extraction</h3>
                <div class="col-sm-11 " >
                    <div class="panel panel-default">
                        <div class="panel-heading"><h3>Information for Sample {{display_sample_info.s_name}}</h3></div>
                        <div class="panel-body">
                            <br>


                            {% if display_sample_info.not_massive.sample_definition_heading %}
                                <div class="row row-space-2 margin-b-4">
                                    <div class="col-sm-11">
                                        <div class="panel panel-default">
                                            <h3>DNA/RNA extraction using not massive methods for sample {{ display_sample_info.not_massive.sample_definition.0 }} </h3>
                                            <div class="panel-heading"><h4>Molecule Information</h4></div>
                                            <div class="panel-body">
                                                <table class="table table-hover">
                                                    <thead>
                                                        <tr>
                                                            {% for values in display_sample_info.not_massive.molecule_definition_heading %}
                                                                <th>{{ values }} </th>
                                                            {%endfor%}
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for values in display_sample_info.not_massive.molecule_definition %}
                                                            <tr>
                                                                {% for value in values %}
                                                                    <td>{{ value }} </td>
                                                                {%endfor%}
                                                            </tr>
                                                        {%endfor%}
                                                    </tbody>
                                                </table>
                                            </div> <!--  end of panel body -->
                                        </div> <!--  end of panel  -->
                                    </div> <!--  end of col-sm-11 -->
                                </div> <!--  end of row -->
                            {% endif %}

                            {% if display_sample_info.not_massive.parameter_heading_values %}
                                <div class="row row-space-2 margin-b-4">
                                    <div class="col-sm-11">
                                        <div class="panel panel-default">
                                            <h3>Parameter Information for Molecules using for the sample {{ display_sample_info.not_massive.sample_definition.0 }} </h3>
                                            <div class="panel-heading"><h4>Quality Parameter Molecule Information</h4></div>
                                            <div class="panel-body">
                                                {% for heading, values in display_sample_info.not_massive.parameter_heading_values %}
                                                    <table class="table">
                                                        <thead>
                                                            <tr>
                                                              {% for head in heading %}
                                                                <th>{{ head }} </th>
                                                              {%endfor%}
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                {% for value in values %}
                                                                    <td>{{ value }} </td>
                                                                {%endfor%}
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <br><br>
                                               {%endfor%}
                                            </div> <!--  end of panel body -->
                                         </div> <!--  end of panel  -->
                                       </div> <!--  end of col-sm-11 -->
                                  </div> <!--  end of row -->
                            {% endif %}
                        </div>  <!--  end of panel body  -->
                    </div> <!--// end panel -->
                </div> <!--// end col-sm-5  -->




            </div> <!-- // end of tab analysis -->

        </div> <!--  end of col-sm-12 -->
    </div> <!--  end of row -->







{% else%}
    <br><br>
    <div class="row row-space-4 margin-b-4">
        <div class="col-sm-10 col-sm-offset-1" >
            <div class="panel panel-default">
                <div class="panel-heading"><h3>Clinic Samples</h3></div>
                <div class="panel-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                {% for value in display_sample_list_info.heading %}
                                    <th>{{value}}</th>
                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody>
                            <h4>The following clinic samples match with your input request</h4>
                            {% for s_id, s_name, history, doc, priority, date, state in display_sample_list_info.sample_c_data %}
                                <tr>
                                    <td><a href="/clinic/displaySampleInfo={{s_id}}">{{ s_name }}</a> </td>
                                    <td>{{ history }} </td>
                                    <td>{{ doc }} </td>
                                    <td>{{ priority }} </td>
                                    <td>{{ date }} </td>
                                    <td>{{ state }} </td>



                                </tr>
                            {%endfor%}
                        </tbody>
                    </table>
                </div>  <!--  end of panel body  -->
            </div> <!--// end panel -->
        </div> <!--// end col-sm-7  -->
    </div> <!--// end row -->


{% endif %}

{% endblock %}
